(this.webpackJsonpbooknthings=this.webpackJsonpbooknthings||[]).push([[5],{101:function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var n=r(5),a=r.n(n),c=r(98),u=r(10),s=r(24),o=r(0),i=r(92);function p(t,e){var r=Object(o.useState)(!0),n=Object(s.a)(r,2),p=n[0],l=n[1],f=Object(o.useState)(!1),b=Object(s.a)(f,2),d=b[0],j=b[1],h=Object(o.useState)([]),v=Object(s.a)(h,2),O=v[0],x=v[1],g=Object(o.useState)(!1),m=Object(s.a)(g,2),w=m[0],y=m[1];return Object(o.useEffect)(Object(u.a)(a.a.mark((function r(){var n,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s=function(){return(s=Object(u.a)(a.a.mark((function r(){var n,u;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!((null===t||void 0===t||null===(n=t.following)||void 0===n?void 0:n.length)>0)){r.next=14;break}return r.prev=1,r.next=4,Object(i.e)(t._id,e,5);case 4:u=r.sent,x((function(t){return[].concat(Object(c.a)(t),Object(c.a)(u.result))})),y(u.result.length>0),l(!1),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(1),j(!0),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)},n=function(){return s.apply(this,arguments)},l(!0),j(!1),n();case 5:case"end":return r.stop()}}),r)}))),[null===t||void 0===t?void 0:t.userId,null===t||void 0===t?void 0:t.following,e]),{posts:O,loading:p,error:d,hasMore:w,setPosts:x}}},102:function(t,e){},107:function(t,e){},108:function(t,e){},109:function(t,e){},110:function(t,e){},111:function(t,e){},155:function(t,e,r){},156:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return O}));var n=r(5),a=r.n(n),c=r(10),u=r(24),s=r(0),o=r(2),i=r(94),p=r(95),l=r(100),f=r(3);var b=r(96),d=r(101),j=r(13),h=r(92);r(155);function v(t){var e=t.label,r=t.handlePaid;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"container",children:[e," ",Object(f.jsxs)("div",{className:"toggle-switch",children:[Object(f.jsx)("input",{type:"checkbox",className:"checkbox",name:e,id:e,onChange:r}),Object(f.jsxs)("label",{className:"label",htmlFor:e,children:[Object(f.jsx)("span",{className:"inner"}),Object(f.jsx)("span",{className:"switch"})]})]})]})})}function O(){var t=Object(s.useContext)(b.a).user,e=Object(d.a)().setPosts,r=Object(s.useState)(),n=Object(u.a)(r,2),O=(n[0],n[1],Object(s.useState)("")),x=Object(u.a)(O,2),g=x[0],m=x[1],w=Object(s.useState)([]),y=Object(u.a)(w,2),k=y[0],S=y[1],N=Object(s.useState)(!1),_=Object(u.a)(N,2),P=_[0],C=_[1],I=Object(s.useState)(""),U=Object(u.a)(I,2),A=U[0],E=U[1],R=Object(s.useState)(""),F=Object(u.a)(R,2),L=F[0],D=F[1],J=Object(s.useState)(),M=Object(u.a)(J,2),T=M[0],z=M[1],V=Object(s.useState)(),W=Object(u.a)(V,2),q=(W[0],W[1],Object(o.g)()),B={onUploadProgress:function(t){var e=Math.round(t.loaded/t.total*100)+"%";console.log(e)}},G=function(){var r=Object(c.a)(a.a.mark((function r(){var n,c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(h.j)(k,L,A,t.username,P,T,B);case 3:n=r.sent,c=n.data,e(c),q.push(j.e),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0.response);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}();return console.log(P),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"newpost__head",children:[Object(f.jsx)("h3",{className:"heading-tertiary",children:"New Post"}),Object(f.jsxs)("div",{children:[Object(f.jsx)(v,{label:"Paid",handlePaid:function(){C(!P)}}),Object(f.jsx)("button",{className:"btn btn--grey",onClick:G,children:"Post"})]})]}),Object(f.jsxs)("div",{className:"newpost__main",children:[Object(f.jsx)("input",{className:"newpost__input-text",type:"text",placeholder:"Title",onChange:function(t){D(t.target.value)}}),Object(f.jsx)("textarea",{className:"newpost__input-text",placeholder:"Description...",onChange:function(t){E(t.target.value)}}),Object(f.jsxs)("label",{className:"newpost__media",children:[Object(f.jsx)(p.a,{icon:i.i}),Object(f.jsx)("input",{type:"file",style:{opacity:0,position:"absolute",left:"-99999px"},onChange:function(t){if(t.target.files.length){m(URL.createObjectURL(t.target.files[0]));var e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=function(){var t=e.result;S(t)}}}})]}),Object(f.jsx)("input",{type:"text",placeholder:"Price",onChange:function(t){return z(t.target.value)}})]}),Object(f.jsx)("div",{style:{height:"750px"},children:g?Object(f.jsx)("div",{style:{border:"1px solid rgba(0, 0, 0, 0.3)",height:"100%"},children:Object(f.jsx)(l.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@2.6.347/build/pdf.worker.min.js",children:Object(f.jsx)(l.Viewer,{fileUrl:g})})}):Object(f.jsx)("div",{style:{alignItems:"center",border:"2px dashed rgba(0, 0, 0, .3)",display:"flex",fontSize:"2rem",height:"100%",justifyContent:"center",width:"100%"},children:"Preview area"})})]})}},92:function(t,e,r){"use strict";r.d(e,"j",(function(){return p})),r.d(e,"g",(function(){return l})),r.d(e,"d",(function(){return f})),r.d(e,"b",(function(){return b})),r.d(e,"i",(function(){return d})),r.d(e,"h",(function(){return j})),r.d(e,"a",(function(){return h})),r.d(e,"f",(function(){return v})),r.d(e,"e",(function(){return O})),r.d(e,"c",(function(){return x}));var n=r(5),a=r.n(n),c=r(10),u=r(11),s=r.n(u),o=r(18),i=o.a+"/post",p=function(){var t=Object(c.a)(a.a.mark((function t(e,r,n,c,u,o,p){var l,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post("".concat(i,"/").concat(c),{files:e,title:r,caption:n,paid:u,price:o},p);case 3:return l=t.sent,f=l.data,t.abrupt("return",{data:f});case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0.response.data.error);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r,n,a,c,u,s){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(e,r,n,c){var u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("".concat(i,"/user-material/").concat(e),{params:{page:n,limit:c,logginUserId:r}});case 3:return u=t.sent,t.abrupt("return",u.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r,n,a){return t.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("".concat(i,"/title/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(c.a)(a.a.mark((function t(e,r,n,c){var u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post("".concat(i,"/buy-material/").concat(e),{username:n,author:c,userId:r});case 3:return u=t.sent,t.abrupt("return",u.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r,n,a){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("".concat(i,"/get-purc-material/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(c.a)(a.a.mark((function t(e,r,n,c){var u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("".concat(i,"/user-posts/").concat(e),{params:{page:n,limit:c,logginUserId:r}});case 3:return u=t.sent,t.abrupt("return",u.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r,n,a){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(a.a.mark((function t(e,r,n){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post("".concat(i,"/add-review/").concat(n),{message:e,userId:r});case 3:return c=t.sent,t.abrupt("return",c.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r,n){return t.apply(this,arguments)}}(),v=function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("".concat(i,"/get-review/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(c.a)(a.a.mark((function t(e,r,n){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("".concat(i,"/all-posts/").concat(e),{params:{page:r,limit:n}});case 3:return c=t.sent,t.abrupt("return",c.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.response.data.error);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r,n){return t.apply(this,arguments)}}(),x=function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.delete("".concat(i,"/delete/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0.response.data.error);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},98:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(19);var a=r(27);function c(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=5.1dc17461.chunk.js.map