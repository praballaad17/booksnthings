{"version":3,"sources":["context/material.js","components/bookshell/bookshell.js","hooks/use-materail.js","services/postServices.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["MaterialContext","createContext","PursMaterial","lazy","MyMaterial","Bookshell","user","pageNumber","useState","loading","setLoading","error","setError","material","setMaterial","purcMaterial","setPurcMaterial","hasMore","setMore","useEffect","getMaterial","getPurcMaterial","a","getUserPurcMaterialByUserId","_id","purcmaterial","console","log","prevPost","getUserMaterialByUsername","username","result","length","useMaterial","useContext","LoggedInUserContext","Provider","value","className","exact","activeClassName","to","path","ROUTES","component","apiEndpoint","apiUrl","postByUsername","files","title","caption","paid","price","progress","axios","post","data","Error","response","logginUserId","limit","get","params","page","getMaterialByTitle","buyMaterialById","materialId","userId","author","getUserPhotosByUsername","addReview","message","getReviewByMaterialId","getPost","deletePostById","postId","delete","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/12.c37494ba.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst MaterialContext = createContext(null);\r\nexport default MaterialContext;\r\n","import React, { lazy, useContext } from 'react'\r\nimport { Route, Switch, Link, NavLink } from 'react-router-dom';\r\nimport { useLocation } from 'react-router'\r\nimport * as ROUTES from '../../constants/routes';\r\nimport LoggedInUserContext from '../../context/logged-in-user';\r\nimport MaterialContext from '../../context/material';\r\nimport useMaterial from '../../hooks/use-materail';\r\n\r\nconst PursMaterial = lazy(() => import('./pursMaterial'));\r\nconst MyMaterial = lazy(() => import('./myMaterial'));\r\n\r\nexport default function Bookshell() {\r\n    const { user } = useContext(LoggedInUserContext)\r\n    const { material, purcMaterial } = useMaterial(user)\r\n\r\n    return (\r\n        <MaterialContext.Provider value={{ MyMaterial: material, PursMaterial: purcMaterial }}>\r\n            <div>\r\n                <div className=\"bookshell__head\">\r\n                    <NavLink className=\"bookshell__title\" exact activeClassName=\"bookshell__head-active\" to={`/bookshell`} aria-label=\"Profile\">\r\n                        My Material\r\n                    </NavLink>\r\n                    <NavLink className=\"bookshell__tittle\" activeClassName=\"bookshell__head-active\" to={`/bookshell/pursmaterial`} aria-label=\"Profile\">\r\n                        Purchased Material\r\n                    </NavLink>\r\n                </div>\r\n                <Switch>\r\n                    <Route path={ROUTES.BOOKSHELL} component={MyMaterial} exact />\r\n                    <Route path={ROUTES.PURSMATERIAL} component={PursMaterial} />\r\n                </Switch>\r\n            </div>\r\n        </MaterialContext.Provider>\r\n    )\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { getPost, getUserMaterialByUsername, getUserPurcMaterialByUserId } from '../services/postServices';\r\n\r\nexport default function useMaterial(user, pageNumber) {\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState(false)\r\n    const [material, setMaterial] = useState([]);\r\n    const [purcMaterial, setPurcMaterial] = useState([]);\r\n    const [hasMore, setMore] = useState(false)\r\n\r\n    useEffect(async () => {\r\n        setLoading(true)\r\n        setError(false)\r\n        async function getMaterial() {\r\n            try {\r\n                const material = await getUserMaterialByUsername(user.username, 1, 5);\r\n                setMaterial(prevPost => { return [...prevPost, ...material.result] });\r\n                setMore(material.result.length > 0)\r\n                setLoading(false)\r\n            } catch (error) {\r\n                setError(true)\r\n                console.log(error);\r\n            }\r\n\r\n        }\r\n\r\n        async function getPurcMaterial() {\r\n            try {\r\n                const purcmaterial = await getUserPurcMaterialByUserId(user._id);\r\n                console.log(purcmaterial);\r\n                setPurcMaterial(prevPost => { return [...prevPost, ...purcmaterial] });\r\n            } catch (error) {\r\n                setError(true)\r\n                console.log(error);\r\n            }\r\n\r\n        }\r\n\r\n        getMaterial();\r\n        getPurcMaterial();\r\n    }, [user?._id, pageNumber]);\r\n\r\n    return { material, purcMaterial, loading, error, hasMore, setMaterial, setPurcMaterial };\r\n}\r\n","import axios from 'axios';\r\nimport { apiUrl } from \"../config.json\";\r\n\r\nconst apiEndpoint = apiUrl + \"/post\";\r\n\r\nexport const postByUsername = async (files, title, caption, username, paid, price, progress) => {\r\n    try {\r\n        const { data } = await axios.post(`${apiEndpoint}/${username}`,\r\n            { files, title, caption, paid, price }, progress);\r\n        return { data };\r\n    } catch (err) {\r\n        throw new Error(err.response.data.error);\r\n    }\r\n};\r\n\r\nexport const retrivePostByUsername = async (username) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/${username}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        throw new Error(err.response.data.error);\r\n    }\r\n};\r\n\r\nexport const getUserMaterialByUsername = async (username, logginUserId, pageNumber, limit) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/user-material/${username}`,\r\n            {\r\n                params: { page: pageNumber, limit: limit, logginUserId: logginUserId }\r\n            });\r\n        return response.data;\r\n    } catch (err) {\r\n        return err;\r\n    }\r\n};\r\nexport const getMaterialByTitle = async (title) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/title/${title}`\r\n        );\r\n        return response.data;\r\n    } catch (err) {\r\n        return err;\r\n    }\r\n}\r\n\r\nexport const buyMaterialById = async (materialId, userId, username, author) => {\r\n    try {\r\n        const response = await axios.post(`${apiEndpoint}/buy-material/${materialId}`,\r\n            {\r\n                username, author, userId\r\n            })\r\n        return response.data\r\n    } catch (error) {\r\n        return error;\r\n    }\r\n}\r\n\r\nexport const getUserPurcMaterialByUserId = async (userId) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/get-purc-material/${userId}`)\r\n        return response.data;\r\n    } catch (err) {\r\n        return err;\r\n    }\r\n};\r\n\r\nexport const getUserPhotosByUsername = async (username, logginUserId, pageNumber, limit) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/user-posts/${username}`,\r\n            {\r\n                params: { page: pageNumber, limit: limit, logginUserId: logginUserId }\r\n            });\r\n        return response.data;\r\n    } catch (err) {\r\n        return err;\r\n    }\r\n};\r\n\r\nexport const addReview = async (message, userId, materialId) => {\r\n    try {\r\n        const response = await axios.post(`${apiEndpoint}/add-review/${materialId}`,\r\n            { message, userId }\r\n        );\r\n        return response.data;\r\n    } catch (err) {\r\n        return err;\r\n    }\r\n}\r\n\r\nexport const getReviewByMaterialId = async (materialId) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/get-review/${materialId}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        return err;\r\n    }\r\n}\r\n\r\nexport const retrivePostByUserId = async (userId) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/userId/${userId}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        throw new Error(err.response.data.error);\r\n    }\r\n};\r\n\r\nexport const getPost = async (userId, page, limit) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/all-posts/${userId}`, {\r\n            params: { page: page, limit: limit }\r\n        });\r\n        return response.data;\r\n    } catch (err) {\r\n        throw new Error(err.response.data.error);\r\n    }\r\n};\r\n\r\nexport const deletePostById = async (postId) => {\r\n    try {\r\n        const response = await axios.delete(`${apiEndpoint}/delete/${postId}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        return err.response.data.error;\r\n    }\r\n};","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}