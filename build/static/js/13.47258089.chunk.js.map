{"version":3,"sources":["pages/sign-up.js"],"names":["SignUp","location","useLocation","useState","username","setUsername","fullName","setFullName","emailAddress","setEmailAddress","password","setPassword","loggedInUser","useContext","UserContext","user","error","setError","isInvalid","handleSignUp","event","a","preventDefault","registerUser","window","pathname","console","log","response","message","useEffect","document","title","to","ROUTES","className","src","alt","onSubmit","method","type","placeholder","onChange","target","value","disabled"],"mappings":"iPAMe,SAASA,IACtB,IAAMC,EAAWC,cAEjB,EAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAwCJ,mBAAS,IAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAAgCN,mBAAS,IAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KACcC,EAAiBC,qBAAWC,KAAlCC,KAER,EAA0BZ,mBAAS,IAAnC,mBAAOa,EAAP,KAAcC,EAAd,KACMC,EAAyB,KAAbR,GAAoC,KAAjBF,EAE/BW,EAAY,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DACnBD,EAAME,iBADa,kBAGXC,YAAanB,EAAUE,EAAUE,EAAcE,GAHpC,OAIjBc,OAAOvB,SAAWA,EAAWA,EAASwB,SAAW,IAJhC,gDAMjBC,QAAQC,IAAI,KAAMC,UAClBrB,EAAY,IACZE,EAAgB,IAChBE,EAAY,IACZM,EAAS,KAAMY,SAVE,yDAAH,sDAsBlB,OAJAC,qBAAU,WACRC,SAASC,MAAQ,oBAChB,IAECpB,EAAqB,cAAC,IAAD,CAAUqB,GAAIC,MAGrC,sBAAKC,UAAU,+DAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKC,IAAI,kCAAkCC,IAAI,gCAEjD,sBAAKF,UAAU,sBAAf,UACE,sBAAKA,UAAU,kFAAf,UACE,oBAAIA,UAAU,6BAAd,SACE,qBAAKC,IAAI,mBAAmBC,IAAI,YAAYF,UAAU,uBAGvDnB,GAAS,mBAAGmB,UAAU,gCAAb,SAA8CnB,IAExD,uBAAMsB,SAAUnB,EAAcoB,OAAO,OAArC,UACE,uBACE,aAAW,sBACXC,KAAK,OACLC,YAAY,WACZN,UAAU,2FACVO,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBtC,EAAYsC,EAAOC,QAC7CA,MAAOxC,IAET,uBACE,aAAW,uBACXoC,KAAK,OACLC,YAAY,YACZN,UAAU,2FACVO,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBpC,EAAYoC,EAAOC,QAC7CA,MAAOtC,IAET,uBACE,aAAW,2BACXkC,KAAK,OACLC,YAAY,gBACZN,UAAU,2FACVO,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBlC,EAAgBkC,EAAOC,QACjDA,MAAOpC,IAET,uBACE,aAAW,sBACXgC,KAAK,WACLC,YAAY,WACZN,UAAU,2FACVO,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBhC,EAAYgC,EAAOC,QAC7CA,MAAOlC,IAET,wBACEmC,SAAU3B,EACVsB,KAAK,SACLL,UAAS,8EACTjB,GAAa,cAJf,2BAUJ,qBAAKiB,UAAU,mGAAf,SACE,oBAAGA,UAAU,UAAb,iCAEE,cAAC,IAAD,CAAMF,GAAIC,IAAcC,UAAU,6BAAlC","file":"static/js/13.47258089.chunk.js","sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { Link, useLocation, Redirect } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport { registerUser } from '../services/authenticationServices';\nimport UserContext from '../context/user';\n\nexport default function SignUp() {\n  const location = useLocation()\n\n  const [username, setUsername] = useState('');\n  const [fullName, setFullName] = useState('');\n  const [emailAddress, setEmailAddress] = useState('');\n  const [password, setPassword] = useState('');\n  const { user: loggedInUser } = useContext(UserContext);\n\n  const [error, setError] = useState('');\n  const isInvalid = password === '' || emailAddress === '';\n\n  const handleSignUp = async (event) => {\n    event.preventDefault();\n    try {\n      await registerUser(username, fullName, emailAddress, password);\n      window.location = location ? location.pathname : \"/\"\n    } catch (error) {\n      console.log(error.response);\n      setFullName('');\n      setEmailAddress('');\n      setPassword('');\n      setError(error.message);\n    }\n    // } else {\n    //   setUsername('');\n    //   setError('That username is already taken, please try another.');\n    // }\n  };\n\n  useEffect(() => {\n    document.title = 'Sign Up - Touch';\n  }, []);\n\n  if (loggedInUser) return <Redirect to={ROUTES.DASHBOARD} />\n\n  return (\n    <div className=\"container flex mx-auto max-w-screen-md items-center h-screen\">\n      <div className=\"flex w-3/5\">\n        <img src=\"/images/iphone-with-profile.jpg\" alt=\"iPhone with Instagram app\" />\n      </div>\n      <div className=\"flex flex-col w-2/5\">\n        <div className=\"flex flex-col items-center bg-white p-4 border border-gray-primary mb-4 rounded\">\n          <h1 className=\"flex justify-center w-full\">\n            <img src=\"/images/logo.png\" alt=\"Instagram\" className=\"mt-2 w-6/12 mb-4\" />\n          </h1>\n\n          {error && <p className=\"mb-4 text-xs text-red-primary\">{error}</p>}\n\n          <form onSubmit={handleSignUp} method=\"POST\">\n            <input\n              aria-label=\"Enter your username\"\n              type=\"text\"\n              placeholder=\"Username\"\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\n              onChange={({ target }) => setUsername(target.value)}\n              value={username}\n            />\n            <input\n              aria-label=\"Enter your full name\"\n              type=\"text\"\n              placeholder=\"Full name\"\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\n              onChange={({ target }) => setFullName(target.value)}\n              value={fullName}\n            />\n            <input\n              aria-label=\"Enter your email address\"\n              type=\"text\"\n              placeholder=\"Email address\"\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\n              onChange={({ target }) => setEmailAddress(target.value)}\n              value={emailAddress}\n            />\n            <input\n              aria-label=\"Enter your password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\n              onChange={({ target }) => setPassword(target.value)}\n              value={password}\n            />\n            <button\n              disabled={isInvalid}\n              type=\"submit\"\n              className={`bg-blue-medium text-white w-full rounded h-8 font-bold\n            ${isInvalid && 'opacity-50'}`}\n            >\n              Sign Up\n            </button>\n          </form>\n        </div>\n        <div className=\"flex justify-center items-center flex-col w-full bg-white p-4 rounded border border-gray-primary\">\n          <p className=\"text-sm\">\n            Have an account?{` `}\n            <Link to={ROUTES.LOGIN} className=\"font-bold text-blue-medium\">\n              Login\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}