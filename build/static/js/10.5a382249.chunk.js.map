{"version":3,"sources":["services/userServices.js","constants/paths.js","hooks/use-user.js","context/logged-in-user.js"],"names":["apiEndpoint","apiUrl","getUserByUsername","usernameOrEmail","a","axios","get","response","data","console","log","error","updateProfileImg","username","profileImg","put","removeProfileImg","delete","getuserDisplayImgs","getusersFollowing","getusersFollowers","toggleFollow","isFollowingProfile","profileUserId","followingUserId","DEFAULT_IMAGE_PATH","LOADING_ANI_PATH","useUser","useState","activeUser","setActiveUser","useEffect","user","followers","following","getUserObjByUserId","LoggedInUserContext","createContext"],"mappings":"2YAIMA,G,MAAcC,IAAS,SAGhBC,EAAiB,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,+EAEFC,IAAMC,IAAN,UAAaN,EAAb,qBAAqCG,IAFnC,cAEnBI,EAFmB,yBAGlBA,EAASC,MAHS,gCAKzBC,QAAQC,IAAR,UAAY,KAAIH,gBAAhB,aAAY,EAAcC,KAAKG,OALN,yDAAH,sDAqBjBC,EAAgB,uCAAG,WAAOC,EAAUC,GAAjB,iBAAAV,EAAA,+EAEDC,IAAMU,IAAN,UAAaf,EAAb,wBAAwCa,GAC3D,CAAEC,eAHkB,cAElBP,EAFkB,yBAKjBA,EAASC,MALQ,gCAOxBC,QAAQC,IAAR,UAAY,KAAIH,gBAAhB,aAAY,EAAcC,KAAKG,OAPP,yDAAH,wDAWhBK,EAAgB,uCAAG,WAAOH,EAAUC,GAAjB,iBAAAV,EAAA,+EAEDC,IAAMY,OAAN,UAAgBjB,EAAhB,wBAA2Ca,IAF1C,cAElBN,EAFkB,yBAGjBA,EAASC,MAHQ,gCAKxBC,QAAQC,IAAR,UAAY,KAAIH,gBAAhB,aAAY,EAAcC,KAAKG,OALP,yDAAH,wDAShBO,EAAkB,uCAAG,WAAOL,GAAP,iBAAAT,EAAA,+EAEHC,IAAMC,IAAN,UAAaN,EAAb,yBAAyCa,IAFtC,cAEpBN,EAFoB,yBAGnBA,EAASC,MAHU,gCAK1BC,QAAQC,IAAR,UAAY,KAAIH,gBAAhB,aAAY,EAAcC,KAAKG,OALL,yDAAH,sDASlBQ,EAAiB,uCAAG,WAAOhB,GAAP,iBAAAC,EAAA,+EAEFC,IAAMC,IAAN,UAAaN,EAAb,+BAA+CG,IAF7C,cAEnBI,EAFmB,yBAGlBA,EAASC,MAHS,gCAKzBC,QAAQC,IAAR,UAAY,KAAIH,gBAAhB,aAAY,EAAcC,KAAKG,OALN,yDAAH,sDASjBS,EAAiB,uCAAG,WAAOjB,GAAP,iBAAAC,EAAA,+EAEFC,IAAMC,IAAN,UAAaN,EAAb,+BAA+CG,IAF7C,cAEnBI,EAFmB,yBAGlBA,EAASC,MAHS,gCAKzBC,QAAQC,IAAR,UAAY,KAAIH,gBAAhB,aAAY,EAAcC,KAAKG,OALN,yDAAH,sDASjBU,EAAY,uCAAG,WAAOC,EAC/BC,EACAC,GAFwB,SAAApB,EAAA,0DAGpBkB,EAHoB,uBAIpBb,QAAQC,IAAI,cAJQ,SAOdL,IAAMU,IAAN,UAAaf,EAAb,qBAAqCuB,GAAiB,CACxDC,oBARgB,oCAYpBf,QAAQC,IAAI,UAZQ,SAedL,IAAMU,IAAN,UAAaf,EAAb,mBAAmCuB,GAAiB,CACtDC,oBAhBgB,2CAAH,2D,gCC3EzB,oEAAO,IAAMC,EAAqB,8BACrBC,EAAmB,gB,6HCEjB,SAASC,EAAQd,GAC9B,MAAoCe,qBAApC,mBAAOC,EAAP,KAAmBC,EAAnB,KAiBA,OAfAC,qBAAU,WAAM,4CACd,WAAkClB,GAAlC,mBAAAT,EAAA,sEACqBF,YAAkBW,GADvC,cACQmB,EADR,gBAE0BZ,YAAkBP,GAF5C,cAEQoB,EAFR,gBAG0Bd,YAAkBN,GAH5C,OAGQqB,EAHR,OAMEJ,EAAc,2BAAKE,GAAL,IAAWC,UAAWA,EAAWC,UAAWA,KAAe,IAN3E,6CADc,sBAUVrB,GAVW,SAAD,2BAWZsB,CAAmBtB,KAEpB,CAACA,IAEG,CAAEmB,KAAMH,EAAYC,mB,gCCrB7B,WAEMM,EAAsBC,wBAAc,MAC3BD","file":"static/js/10.5a382249.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { apiUrl } from \"../config.json\";\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst apiEndpoint = apiUrl + \"/user\";\r\nconst tokenKey = \"token\"\r\n\r\nexport const getUserByUsername = async (usernameOrEmail) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/username/${usernameOrEmail}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n}\r\n\r\nexport const searchUser = async (usernameOrname, pageNumber, limit, cancel) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/search/${usernameOrname}`, {\r\n            params: { page: pageNumber, limit: limit },\r\n            cancelToken: new axios.CancelToken(c => cancel = c)\r\n        });\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n}\r\n\r\nexport const updateProfileImg = async (username, profileImg) => {\r\n    try {\r\n        const response = await axios.put(`${apiEndpoint}/profile-img/${username}`,\r\n            { profileImg }\r\n        );\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n};\r\n\r\nexport const removeProfileImg = async (username, profileImg) => {\r\n    try {\r\n        const response = await axios.delete(`${apiEndpoint}/profile-img/${username}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n};\r\n\r\nexport const getuserDisplayImgs = async (username) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/display-imgs/${username}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n};\r\n\r\nexport const getusersFollowing = async (usernameOrEmail) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/username/following/${usernameOrEmail}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n}\r\n\r\nexport const getusersFollowers = async (usernameOrEmail) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/username/followers/${usernameOrEmail}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n}\r\n\r\nexport const toggleFollow = async (isFollowingProfile,\r\n    profileUserId,\r\n    followingUserId) => {\r\n    if (isFollowingProfile) {\r\n        console.log(\"unfollwing\");\r\n        //remove followingUserId from profileUserId's follower list\r\n        //remove profileUserId from followingUserId's following list\r\n        await axios.put(`${apiEndpoint}/unfollow/${profileUserId}`, {\r\n            followingUserId\r\n        })\r\n    }\r\n    else {\r\n        console.log(\"follow\");\r\n        //add followingUserId in profileUserId's follower list\r\n        //add profileUserId's from followingUserId's following list\r\n        await axios.put(`${apiEndpoint}/follow/${profileUserId}`, {\r\n            followingUserId\r\n        })\r\n\r\n    }\r\n}","export const DEFAULT_IMAGE_PATH = '/images/avatars/default.png';\nexport const LOADING_ANI_PATH = '/loading.svg';\n","import { useState, useEffect } from 'react';\nimport { getUserByUsername, getusersFollowers, getusersFollowing } from '../services/userServices';\n\nexport default function useUser(username) {\n  const [activeUser, setActiveUser] = useState();\n\n  useEffect(() => {\n    async function getUserObjByUserId(username) {\n      const user = await getUserByUsername(username);\n      const followers = await getusersFollowers(username);\n      const following = await getusersFollowing(username);\n      // const user = await getUserByUserId(userId);\n      // const followers = await getusersFollowersById(userId);\n      setActiveUser({ ...user, followers: followers, following: following } || {});\n    }\n\n    if (username) {\n      getUserObjByUserId(username);\n    }\n  }, [username]);\n\n  return { user: activeUser, setActiveUser };\n}\n","import { createContext } from 'react';\n\nconst LoggedInUserContext = createContext(null);\nexport default LoggedInUserContext;\n"],"sourceRoot":""}