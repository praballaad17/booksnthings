(this.webpackJsonpbooknthings=this.webpackJsonpbooknthings||[]).push([[12],{111:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(21);var a=r(28);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},155:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var n=r(5),a=r.n(n),c=r(111),s=r(14),u=r(10),i=r(24),o=r(0),l=r(2),p=r(93),b=r(13),d=r(95),h=r(113),j=r.n(h),f=r(3);function v(){var e=Object(o.useContext)(d.a).user,t=Object(l.i)().title,r=Object(o.useState)(),n=Object(i.a)(r,2),h=n[0],v=n[1],m=Object(o.useState)(!1),O=Object(i.a)(m,2),x=O[0],w=O[1],g=Object(o.useState)([]),_=Object(i.a)(g,2),y=_[0],N=_[1],k=Object(o.useState)(""),S=Object(i.a)(k,2),I=S[0],C=S[1],E=Object(o.useState)(!1),F=Object(i.a)(E,2),A=F[0],B=F[1],R=Object(o.useState)(!1),J=Object(i.a)(R,2),D=J[0],T=J[1],U=Object(l.g)();Object(o.useEffect)((function(){function r(){return(r=Object(u.a)(a.a.mark((function r(){var n,u,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(p.d)(t);case 2:return n=r.sent,r.next=5,Object(p.e)(null===n||void 0===n?void 0:n._id);case 5:return u=r.sent,r.next=8,Object(p.c)(null===e||void 0===e?void 0:e._id,null===n||void 0===n?void 0:n._id);case 8:i=r.sent,console.log(i),B(i),(null===n||void 0===n?void 0:n._id)?(v(Object(s.a)({},n)),w(!1),N((function(e){return[].concat(Object(c.a)(e),Object(c.a)(u))}))):U.push(b.g);case 12:case"end":return r.stop()}}),r)})))).apply(this,arguments)}w(!0),function(){r.apply(this,arguments)}()}),[t,U]);var q=function(){var t=Object(u.a)(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(p.b)(h._id,e._id,e.username,h.author);case 3:r=t.sent,r.data,U.push(b.h),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=Object(u.a)(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(p.a)(I,e._id,h._id);case 3:r=t.sent,N((function(e){return[].concat(Object(c.a)(e),[r])})),C(""),T(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.response);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return console.log(e,h),Object(f.jsx)(f.Fragment,{children:x?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.a,{count:1,width:1100,height:90,className:"mb-5"}),Object(f.jsx)(j.a,{count:1,width:1100,height:200,className:"mb-5"}),Object(f.jsx)(j.a,{count:1,width:1100,height:200,className:"mb-5"})]}):Object(f.jsx)("div",{children:h&&Object(f.jsxs)("div",{className:"material",children:[Object(f.jsxs)("div",{className:"material__head",children:[Object(f.jsxs)("div",{className:"material__title",children:[Object(f.jsx)("h2",{className:"heading-primary",children:h.title}),Object(f.jsxs)("h3",{className:"material__author",children:["By ",Object(f.jsx)("span",{children:h.author})]})]}),A&&Object(f.jsxs)("div",{className:"material__price-box",children:[Object(f.jsxs)("h5",{className:"heading-black",children:["\u20b9 ",h.paid.price]}),Object(f.jsx)("button",{className:"btn btn--grey",children:"Bought"})]}),!A&&!e.username===h.author&&Object(f.jsxs)("div",{className:"material__price-box",children:[Object(f.jsxs)("h5",{className:"heading-black",children:["\u20b9 ",h.paid.price]}),Object(f.jsx)("button",{className:"btn btn--orange",onClick:q,children:"Buy"})]}),!A&&e.username===h.author&&Object(f.jsxs)("div",{className:"material__price-box",children:[Object(f.jsxs)("h5",{className:"heading-black",children:["\u20b9 ",h.paid.price]}),Object(f.jsx)("button",{className:"btn btn--green",children:"Read"})]})]}),Object(f.jsxs)("p",{className:"material__discription",children:[Object(f.jsx)("h4",{className:"heading-black",children:"Disciption"}),h.caption]}),Object(f.jsxs)("p",{className:"material__review",children:[Object(f.jsxs)("div",{className:"material__review-head",children:[Object(f.jsx)("h4",{className:"heading-black",children:"Reviews"}),Object(f.jsxs)("div",{className:"material__review__box",children:[Object(f.jsx)("button",{className:"btn btn--grey",onClick:function(){T(!D)},children:"write your review"}),D&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"text",placeholder:"Review",className:"login__form--input",onChange:function(e){C(e.target.value)}}),Object(f.jsx)("button",{className:"btn btn--grey",onClick:z,children:"Submit"})]})]})]}),y&&Object(f.jsx)("div",{children:y.map((function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"material__review__box",children:[Object(f.jsx)("p",{children:e.message}),Object(f.jsx)("span",{children:e.date})]})})}))})]})]})})})}},93:function(e,t,r){"use strict";r.d(t,"h",(function(){return l})),r.d(t,"f",(function(){return p})),r.d(t,"d",(function(){return b})),r.d(t,"b",(function(){return d})),r.d(t,"g",(function(){return h})),r.d(t,"a",(function(){return j})),r.d(t,"e",(function(){return f})),r.d(t,"c",(function(){return v}));var n=r(5),a=r.n(n),c=r(10),s=r(11),u=r.n(s),i=r(17),o=i.a+"/post",l=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c,s,i,l){var p,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("".concat(o,"/add-material/").concat(c),{files:t,title:r,caption:n,paid:s,price:i},l);case 3:return p=e.sent,b=p.data,e.abrupt("return",{data:b});case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,n,a,c,s,u){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(o,"/user-material/").concat(t),{params:{page:n,limit:c,logginUserId:r}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(o,"/title/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("".concat(o,"/buy-material/").concat(t),{username:n,author:c,userId:r});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(o,"/get-purc-material/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("".concat(o,"/add-review/").concat(n),{message:t,userId:r});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(o,"/get-review/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("".concat(o,"/check-purchased"),{userId:t,materialId:r});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=12.43496c7e.chunk.js.map