(this.webpackJsonpbooknthings=this.webpackJsonpbooknthings||[]).push([[3],{13:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"k",(function(){return c})),n.d(e,"d",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return l})),n.d(e,"h",(function(){return f})),n.d(e,"j",(function(){return b})),n.d(e,"i",(function(){return d}));var r="/",a="/login",c="/sign-up",o="/material/:title",u="/not-found",s="/newpost",i="/bookshell",l="/bookshell/mymaterial",f="/bookshell/pursmaterial",b="/search-result",d="/request-your-book"},17:function(t){t.exports=JSON.parse('{"a":"https://booknthingsserver.herokuapp.com/api"}')},18:function(t,e,n){"use strict";var r=n(0),a=Object(r.createContext)(null);e.a=a},25:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return j})),n.d(e,"a",(function(){return O}));var r,a=n(5),c=n.n(a),o=n(14),u=n(10),s=n(11),i=n.n(s),l=n(17),f=n(15),b=l.a+"/auth",d="token";r=localStorage.getItem(d),i.a.defaults.headers.common["x-auth-token"]=r;var p=function(){var t=Object(u.a)(c.a.mark((function t(e,n,r){var a,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e&&n?{data:{usernameOrEmail:e,password:n}}:{headers:{authorization:r}},t.next=4,i()("".concat(b,"/login"),Object(o.a)({method:"POST"},a));case 4:return u=t.sent,localStorage.setItem(d,u.data.token),t.abrupt("return",u.data);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0.response.data.error);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n,r){return t.apply(this,arguments)}}(),h=function(){var t=Object(u.a)(c.a.mark((function t(e,n,r,a){var o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("".concat(b,"/register"),{email:r,fullName:n,username:e,password:a});case 3:return o=t.sent,localStorage.setItem(d,o.data.token),t.abrupt("return",o.data);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0.response.data.error);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n,r,a){return t.apply(this,arguments)}}();function j(){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.removeItem(d);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){try{var t=localStorage.getItem(d);return Object(f.a)(t)}catch(e){return null}}},27:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(37),a=n.n(r),c=n(3);function o(){return Object(c.jsx)(a.a,{type:"TailSpin",color:"#00000059",height:70,width:70,className:"flex justify-center mt-12"})}},90:function(t,e,n){},91:function(t,e,n){},92:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(26),o=n.n(c),u=n(16),s=n(2),i=n(27),l=n(13),f=n(18),b=n(24),d=n(15);var p=n(14),h=n(39),j=n(25),m=n(3),O=["children"];function v(t){var e=t.children,n=Object(h.a)(t,O),r=Object(j.a)();return Object(m.jsx)(s.b,Object(p.a)(Object(p.a)({},n),{},{render:function(t){var n=t.location;return r?a.a.cloneElement(e,{user:r}):r?null:Object(m.jsx)(s.a,{to:{pathname:l.c,state:{from:n}}})}}))}var x=Object(r.lazy)((function(){return n.e(15).then(n.bind(null,151))})),k=Object(r.lazy)((function(){return n.e(16).then(n.bind(null,152))})),g=Object(r.lazy)((function(){return Promise.all([n.e(2),n.e(9)]).then(n.bind(null,159))})),w=Object(r.lazy)((function(){return Promise.all([n.e(2),n.e(10)]).then(n.bind(null,153))}));function y(){var t=function(){var t=Object(r.useState)(),e=Object(b.a)(t,2),n=e[0],a=e[1];return Object(r.useEffect)((function(){try{var t=localStorage.getItem("token");a(Object(d.a)(t))}catch(e){a(null)}}),[]),n}();return console.log(t),Object(m.jsx)(f.a.Provider,{value:{user:t},children:Object(m.jsx)(u.a,{children:Object(m.jsx)(r.Suspense,{fallback:Object(m.jsx)(i.a,{}),children:Object(m.jsxs)(s.d,{children:[Object(m.jsx)(s.b,{path:l.c,component:x}),Object(m.jsx)(s.b,{path:l.k,component:k}),Object(m.jsx)(v,{user:t,path:l.b,children:Object(m.jsx)(g,{})}),Object(m.jsx)(s.b,{component:w})]})})})})}n(90),n(91);o.a.render(Object(m.jsx)(y,{}),document.getElementById("root"))}},[[92,4,5]]]);
//# sourceMappingURL=main.c98ca2df.chunk.js.map