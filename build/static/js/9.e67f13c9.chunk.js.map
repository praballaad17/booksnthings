{"version":3,"sources":["constants/paths.js","components/toggleBar.js","components/leftbar.js","components/leftbar/searchBar.js","hooks/use-search.js","pages/dashboard.js","context/logged-in-user.js","services/userServices.js","hooks/use-user.js"],"names":["DEFAULT_IMAGE_PATH","LOADING_ANI_PATH","ToggleBar","show","onClose","user","loggedInUser","ReactDom","createPortal","className","onClick","icon","faTimes","to","username","faUser","ROUTES","faBookmark","faList","faCog","faIdCard","faUniversity","logout","window","location","onKeyDown","event","key","faSignOutAlt","document","getElementById","Leftbar","useState","setShow","setProfileImg","useContext","UserContext","useUser","useHistory","useEffect","a","getuserDisplayImgs","then","res","displayImg","profileImg","length","catch","err","console","log","faHome","faBook","faPlus","SearchBar","history","search","setSearch","LoggedInUserContext","setSearchResult","searchResult","pageNumber","setPageNumber","query","loading","setLoading","error","setError","result","setResult","hasMore","setMore","apiEndpoint","apiUrl","cancel","axios","method","url","params","page","limit","cancelToken","CancelToken","c","data","e","isCancel","useSearch","id","onChange","target","value","push","placeholder","faSearch","src","Request","lazy","Material","SearchResult","Newpost","Bookshell","Dashboard","setActiveUser","useRouteMatch","path","title","Provider","fallback","exact","from","component","createContext","getUserByUsername","usernameOrEmail","get","response","activeUser","getUserObjByUserId"],"mappings":"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","file":"static/js/9.e67f13c9.chunk.js","sourcesContent":["export const DEFAULT_IMAGE_PATH = '/images/avatars/default.png';\nexport const LOADING_ANI_PATH = '/loading.svg';\n","import React from 'react'\r\nimport * as ROUTES from '../constants/routes';\r\nimport { Link } from 'react-router-dom';\r\nimport { faBookmark, faCog, faIdCard, faList, faSignOutAlt, faTimes, faUniversity, faUser } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { logout } from '../services/authenticationServices';\r\nimport ReactDom from 'react-dom'\r\n\r\nexport default function ToggleBar({ show, onClose, user, loggedInUser }) {\r\n    if (!show) return null\r\n    return ReactDom.createPortal(\r\n        <>\r\n            <div className=\"togglebar-overlay\" onClick={onClose}></div>\r\n            <div className=\"toggle-sidebar\">\r\n                <div className=\"toggle-sidebar__close\" onClick={onClose}>\r\n                    <FontAwesomeIcon icon={faTimes} />\r\n                </div>\r\n                <ul>\r\n                    <li className=\"toggle-sidebar__item\">\r\n                        <Link className=\"toggle-sidebar__link\" to={`/user/${user?.username}`} aria-label=\"Dashboard\">\r\n                            <span className=\"toggle-sidebar__link--icon\">\r\n                                <FontAwesomeIcon icon={faUser} /></span>\r\n                            <span className=\"toggle-sidebar__link--text\">Profile</span>\r\n                        </Link>\r\n                    </li>\r\n                    {loggedInUser ? (\r\n                        <>\r\n                            <li className=\"toggle-sidebar__item\">\r\n                                <Link className=\"toggle-sidebar__link\" to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                                    <span className=\"toggle-sidebar__link--icon\">\r\n                                        <FontAwesomeIcon icon={faBookmark} />\r\n                                    </span>\r\n                                    <span className=\"toggle-sidebar__link--text\">Bookmarks</span>\r\n                                </Link>\r\n                            </li>\r\n                            <li className=\"toggle-sidebar__item\">\r\n                                <Link className=\"toggle-sidebar__link\" to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                                    <span className=\"toggle-sidebar__link--icon\">\r\n                                        <FontAwesomeIcon icon={faList} />\r\n                                    </span>\r\n                                    <span className=\"toggle-sidebar__link--text\">List</span>\r\n                                </Link>\r\n                            </li>\r\n                            <li className=\"toggle-sidebar__item\">\r\n                                <Link className=\"toggle-sidebar__link\" to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                                    <span className=\"toggle-sidebar__link--icon\">\r\n                                        <FontAwesomeIcon icon={faCog} />\r\n                                    </span>\r\n                                    <span className=\"toggle-sidebar__link--text\">Settings</span>\r\n                                </Link>\r\n                            </li>\r\n                            <li className=\"toggle-sidebar__item\">\r\n                                <Link className=\"toggle-sidebar__link\" to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                                    <span className=\"toggle-sidebar__link--icon\">\r\n                                        <FontAwesomeIcon icon={faIdCard} />\r\n                                    </span>\r\n                                    <span className=\"toggle-sidebar__link--text\">Your Cards</span>\r\n                                </Link>\r\n                            </li>\r\n                            <li className=\"toggle-sidebar__item\">\r\n                                <Link className=\"toggle-sidebar__link\" to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                                    <span className=\"toggle-sidebar__link--icon\">\r\n                                        <FontAwesomeIcon icon={faUniversity} />\r\n                                    </span>\r\n                                    <span className=\"toggle-sidebar__link--text\">Add Bank</span>\r\n                                </Link>\r\n                            </li>\r\n                            <li className=\"toggle-sidebar__item\"\r\n                                onClick={() => {\r\n                                    logout();\r\n                                    window.location = ROUTES.LOGIN\r\n                                }}\r\n                                onKeyDown={(event) => {\r\n                                    if (event.key === 'Enter') {\r\n                                        logout();\r\n                                        window.location = ROUTES.LOGIN\r\n                                    }\r\n                                }}>\r\n                                <div className=\"toggle-sidebar__link\" >\r\n                                    <span className=\"toggle-sidebar__link--icon\">\r\n                                        <FontAwesomeIcon icon={faSignOutAlt} />\r\n                                    </span>\r\n                                    <span className=\"toggle-sidebar__link--text\">Log Out</span>\r\n                                </div>\r\n                            </li>\r\n                        </>) : (\r\n                        <li className=\"link-list-item link-list-item--newpost\" >\r\n                            <Link className=\"link\" to={ROUTES.LOGIN} aria-label=\"Newpost\">\r\n                                <span className=\"link--icon\">\r\n                                    <FontAwesomeIcon icon={faSignOutAlt} /></span>\r\n                                <span className=\"link--text\">Log In</span>\r\n                            </Link>\r\n                        </li>\r\n                    )\r\n                    }                    </ul>\r\n            </div>\r\n        </>,\r\n        document.getElementById(\"togglebar\")\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react'\r\nimport * as ROUTES from '../constants/routes';\r\nimport { Link, Route, useHistory } from 'react-router-dom';\r\nimport { faBars, faBell, faBook, faBookmark, faChild, faCog, faHome, faIdCard, faList, faMailBulk, faPlus, faSignOutAlt, faUniversity, faUser } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport UserContext from '../context/user';\r\nimport useUser from '../hooks/use-user';\r\nimport ToggleBar from './toggleBar';\r\nimport { getuserDisplayImgs } from '../services/userServices';\r\nimport { useEffect } from 'react';\r\nimport { DEFAULT_IMAGE_PATH } from '../constants/paths';\r\nimport { logout } from '../services/authenticationServices';\r\n\r\nexport default function Leftbar() {\r\n    const [show, setShow] = useState(false)\r\n    const [profileImg, setProfileImg] = useState()\r\n    const { user: loggedInUser } = useContext(UserContext);\r\n    const { user } = useUser(loggedInUser?.username);\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(async () => {\r\n        await getuserDisplayImgs(user?.username).then((res) => {\r\n            !res.displayImg || res.displayImg.profileImg.length ?\r\n                setProfileImg(res.displayImg.profileImg)\r\n                :\r\n                setProfileImg(DEFAULT_IMAGE_PATH)\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n\r\n        // setProfileImg(result?.displayImg?.profileImg)\r\n\r\n    }, [user])\r\n\r\n    return (\r\n        <>\r\n            <div className=\"leftbar__toglebar\">\r\n                <ToggleBar show={show} user={user} loggedInUser={loggedInUser} onClose={() => setShow(false)} />\r\n            </div>\r\n\r\n            <div className=\"leftbar\">\r\n                <ul className=\"link-list\">\r\n                    <li className=\"link-list-item\">\r\n                        <Link className=\"u-center-text heading-logo\" to={ROUTES.DASHBOARD} aria-label=\"LOGO\">\r\n                            Book'n'things\r\n                        </Link>\r\n                    </li>\r\n\r\n                    <li className=\"link-list-item\">\r\n                        <Link className=\"link\" to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                            <span className=\"link--icon\">\r\n                                <FontAwesomeIcon icon={faHome} /></span>\r\n                            <span className=\"link--text\">My Library</span>\r\n                        </Link>\r\n                    </li>\r\n                    {loggedInUser && <>\r\n                        <li className=\"link-list-item\">\r\n                            <Link className=\"link\" to={ROUTES.REQUEST} aria-label=\"Bookshell\">\r\n                                <span className=\"link--icon\">\r\n                                    <FontAwesomeIcon icon={faBook} />\r\n                                </span>\r\n                                <span className=\"link--text\">Request Your Book</span>\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"link-list-item\">\r\n                            <Link className=\"link\" to={ROUTES.BOOKSHELL} aria-label=\"Bookshell\">\r\n                                <span className=\"link--icon\">\r\n                                    <FontAwesomeIcon icon={faCog} />\r\n                                </span>\r\n                                <span className=\"link--text\">Settings</span>\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"toggle-sidebar__item\">\r\n                            <Link className=\"toggle-sidebar__link\" to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                                <span className=\"toggle-sidebar__link--icon\">\r\n                                    <FontAwesomeIcon icon={faIdCard} />\r\n                                </span>\r\n                                <span className=\"toggle-sidebar__link--text\">Your Cards</span>\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"toggle-sidebar__item\">\r\n                            <Link className=\"toggle-sidebar__link\" to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                                <span className=\"toggle-sidebar__link--icon\">\r\n                                    <FontAwesomeIcon icon={faUniversity} />\r\n                                </span>\r\n                                <span className=\"toggle-sidebar__link--text\">Add Bank</span>\r\n                            </Link>\r\n                        </li>\r\n\r\n\r\n                    </>\r\n                    }\r\n                    {loggedInUser ? (\r\n                        <>\r\n                            <li className=\"toggle-sidebar__item\"\r\n                                onClick={() => {\r\n                                    logout();\r\n                                    window.location = ROUTES.LOGIN\r\n                                }}\r\n                                onKeyDown={(event) => {\r\n                                    if (event.key === 'Enter') {\r\n                                        logout();\r\n                                        window.location = ROUTES.LOGIN\r\n                                    }\r\n                                }}>\r\n                                <div className=\"toggle-sidebar__link\" >\r\n                                    <span className=\"toggle-sidebar__link--icon\">\r\n                                        <FontAwesomeIcon icon={faSignOutAlt} />\r\n                                    </span>\r\n                                    <span className=\"toggle-sidebar__link--text\">Log Out</span>\r\n                                </div>\r\n                            </li>\r\n                            <li className=\"link-list-item link-list-item--newpost\" >\r\n                                <Link className=\"link\" to={ROUTES.NEWPOST} aria-label=\"Newpost\">\r\n                                    <span className=\"link--icon\">\r\n                                        <FontAwesomeIcon icon={faPlus} /></span>\r\n                                    <span className=\"link--text\">New Post</span>\r\n                                </Link>\r\n                            </li>\r\n                        </>) : (\r\n                        <li className=\"link-list-item link-list-item--newpost\" >\r\n                            <Link className=\"link\" to={ROUTES.LOGIN} aria-label=\"Newpost\">\r\n                                <span className=\"link--icon\">\r\n                                    <FontAwesomeIcon icon={faSignOutAlt} /></span>\r\n                                <span className=\"link--text\">Log In</span>\r\n                            </Link>\r\n                        </li>\r\n                    )}\r\n                </ul>\r\n            </div >\r\n        </>\r\n    )\r\n}\r\n","import { faCircle, faSearch, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { DEFAULT_IMAGE_PATH, LOADING_ANI_PATH } from '../../constants/paths';\r\nimport useSearch from '../../hooks/use-search';\r\nimport LoadingAni from '../loadingAni';\r\nimport { Link } from 'react-router-dom';\r\nimport LoggedInUserContext from '../../context/logged-in-user';\r\n\r\nexport default function SearchBar() {\r\n    let history = useHistory();\r\n    const [search, setSearch] = useState()\r\n    const { searchResult, setSearchResult } = useContext(LoggedInUserContext);\r\n    // const [searchResult, setSearchResult] = useState([])\r\n    const [pageNumber, setPageNumber] = useState(1)\r\n\r\n    const handleSearch = (e) => {\r\n        // e.preventDefault() \r\n        setSearch(e.target.value)\r\n        setPageNumber(1)\r\n        history.push(\"/search-result\");\r\n    }\r\n\r\n    const { result, hasMore, loading, error } = useSearch(search, pageNumber)\r\n\r\n    useEffect(() => {\r\n        if (!loading)\r\n            setSearchResult(result)\r\n        if (!search)\r\n            setSearchResult([])\r\n    }, [result, loading])\r\n\r\n\r\n    const handleClear = () => {\r\n        setSearch(\"\")\r\n        let input = document.getElementById('input')\r\n        input.value = \"\"\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"search-box\">\r\n                <input id=\"input\" className=\"search__input\" onChange={handleSearch} placeholder=\"Search Users\" />\r\n                {!search && <div className=\"search__icon\"><FontAwesomeIcon icon={faSearch} /></div>}\r\n                {search && !loading && <FontAwesomeIcon onClick={handleClear} icon={faTimes} />}\r\n                {loading && <img className=\"search__loading\" src={LOADING_ANI_PATH} />}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\nimport { apiUrl } from \"../config.json\";\r\n\r\nexport default function useSearch(query, pageNumber) {\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState(false)\r\n    const [result, setResult] = useState([]);\r\n    const [hasMore, setMore] = useState(false)\r\n    const apiEndpoint = apiUrl + \"/post\";\r\n\r\n    useEffect(() => {\r\n        setResult([])\r\n    }, [query])\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        setError(false)\r\n        let cancel;\r\n        axios({\r\n            method: 'GET',\r\n            url: `${apiEndpoint}/search/${query}`,\r\n            params: { page: pageNumber, limit: 5 },\r\n            cancelToken: new axios.CancelToken(c => cancel = c)\r\n        }).then((res) => {\r\n            console.log(res);\r\n            setMore(res.data.length > 0)\r\n            setLoading(false)\r\n            setResult(res.data)\r\n        }).catch(e => {\r\n            if (axios.isCancel(e)) return\r\n            setError(true)\r\n            setLoading(false)\r\n            console.log(e);\r\n        })\r\n        return () => cancel()\r\n    }, [query, pageNumber]);\r\n\r\n    return { result, loading, error, hasMore };\r\n}\r\n","import { useEffect, lazy, Suspense, useState } from 'react';\nimport { Route, Switch, useRouteMatch, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as ROUTES from '../constants/routes';\nimport useUser from '../hooks/use-user';\nimport LoggedInUserContext from '../context/logged-in-user';\nimport Leftbar from '../components/leftbar';\nimport SearchBar from '../components/leftbar/searchBar';\nimport ReactLoader from '../components/loader';\n\nconst Request = lazy(() => import('../components/newpost/request'));\nconst Material = lazy(() => import('../components/leftbar/material'));\nconst SearchResult = lazy(() => import('../components/leftbar/searchResult'));\nconst Newpost = lazy(() => import('../components/newpost/newpost'));\nconst Bookshell = lazy(() => import('../components/bookshell/bookshell'));\n\nexport default function Dashboard({ user: loggedInUser }) {\n  const [show, setShow] = useState(false)\n  const [searchResult, setSearchResult] = useState([])\n  const userId = loggedInUser ? loggedInUser.id : null\n  const username = loggedInUser ? loggedInUser.username : null\n  const { user, setActiveUser } = useUser(username);\n  let { path, url } = useRouteMatch();\n\n  useEffect(() => {\n    document.title = \"Book'N'Things\";\n  }, []);\n  return (\n    <LoggedInUserContext.Provider value={{ user, setActiveUser, searchResult, setSearchResult }}>\n      <div className=\"dashboard\">\n        <div className=\"dashboard__leftbar\">\n          <Leftbar path={path} url={url} />\n        </div>\n        <div className=\"dashboard__main\">\n          <div className=\"dashboard__searchbar\">\n            <SearchBar searchResult={searchResult} setSearchResult={setSearchResult} />\n          </div>\n          <Suspense fallback={<ReactLoader />}>\n            <Switch>\n              <Redirect exact from={ROUTES.DASHBOARD} to={ROUTES.BOOKSHELL} />\n              <Route path={ROUTES.BOOKSHELL} component={Bookshell} />\n              <Route path={ROUTES.REQUEST} component={Request} />\n              <Route path={ROUTES.NEWPOST} component={Newpost} />\n              <Route path={ROUTES.SEARCHRESULT} component={SearchResult} />\n              <Route path={ROUTES.MATERIAL} component={Material} />\n            </Switch>\n          </Suspense>\n        </div>\n\n      </div>\n\n    </LoggedInUserContext.Provider>\n  );\n}\n\nDashboard.propTypes = {\n  user: PropTypes.object.isRequired\n};\n","import { createContext } from 'react';\n\nconst LoggedInUserContext = createContext(null);\nexport default LoggedInUserContext;\n","import axios from 'axios';\r\nimport { apiUrl } from \"../config.json\";\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst apiEndpoint = apiUrl + \"/user\";\r\nconst tokenKey = \"token\"\r\n\r\nexport const getUserByUsername = async (usernameOrEmail) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/username/${usernameOrEmail}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n}\r\n\r\nexport const searchUser = async (usernameOrname, pageNumber, limit, cancel) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/search/${usernameOrname}`, {\r\n            params: { page: pageNumber, limit: limit },\r\n            cancelToken: new axios.CancelToken(c => cancel = c)\r\n        });\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n}\r\n\r\nexport const updateProfileImg = async (username, profileImg) => {\r\n    try {\r\n        const response = await axios.put(`${apiEndpoint}/profile-img/${username}`,\r\n            { profileImg }\r\n        );\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n};\r\n\r\nexport const removeProfileImg = async (username, profileImg) => {\r\n    try {\r\n        const response = await axios.delete(`${apiEndpoint}/profile-img/${username}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n};\r\n\r\nexport const getuserDisplayImgs = async (username) => {\r\n    try {\r\n        const response = await axios.get(`${apiEndpoint}/display-imgs/${username}`);\r\n        return response.data;\r\n    } catch (err) {\r\n        console.log(err.response?.data.error);\r\n    }\r\n};\r\n","import { useState, useEffect } from 'react';\nimport { getUserByUsername, getuserDisplayImgs } from '../services/userServices';\n\nexport default function useUser(username) {\n  const [activeUser, setActiveUser] = useState();\n\n  useEffect(() => {\n    async function getUserObjByUserId(username) {\n      const user = await getUserByUsername(username);\n      const { displayImg } = await getuserDisplayImgs(username);\n      setActiveUser({ ...user, displayImg: displayImg } || {});\n    }\n\n    if (username) {\n      getUserObjByUserId(username);\n    }\n  }, [username]);\n  return { user: activeUser, setActiveUser };\n}\n"],"sourceRoot":""}