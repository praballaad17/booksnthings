(this.webpackJsonpbooknthings=this.webpackJsonpbooknthings||[]).push([[10],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(24),c=n(94),s=n(95),r=n(0),l=n(2),i=n(97),o=n(11),b=n.n(o),j=n(18);var u=n(3);var d=n(96);function O(){var e=Object(l.g)(),t=Object(r.useState)(),n=Object(a.a)(t,2),o=n[0],O=n[1],h=Object(r.useContext)(d.a),x=(h.searchResult,h.setSearchResult),g=Object(r.useState)(1),m=Object(a.a)(g,2),p=m[0],f=m[1],_=function(e,t){var n=Object(r.useState)(!0),c=Object(a.a)(n,2),s=c[0],l=c[1],i=Object(r.useState)(!1),o=Object(a.a)(i,2),u=o[0],d=o[1],O=Object(r.useState)([]),h=Object(a.a)(O,2),x=h[0],g=h[1],m=Object(r.useState)(!1),p=Object(a.a)(m,2),f=p[0],_=p[1],v=j.a+"/post";return Object(r.useEffect)((function(){g([])}),[e]),Object(r.useEffect)((function(){var n;return l(!0),d(!1),b()({method:"GET",url:"".concat(v,"/search/").concat(e),params:{page:t,limit:5},cancelToken:new b.a.CancelToken((function(e){return n=e}))}).then((function(e){console.log(e),_(e.data.length>0),l(!1),g(e.data)})).catch((function(e){b.a.isCancel(e)||(d(!0),l(!1),console.log(e))})),function(){return n()}}),[e,t]),{result:x,loading:s,error:u,hasMore:f}}(o,p),v=_.result,k=(_.hasMore,_.loading);_.error;Object(r.useEffect)((function(){k||x(v),o||x([])}),[v,k]);return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"search-box",children:[Object(u.jsx)("input",{id:"input",className:"search__input",onChange:function(t){O(t.target.value),f(1),e.push("/search-result")},placeholder:"Search Users"}),!o&&Object(u.jsx)("div",{className:"search__icon",children:Object(u.jsx)(s.a,{icon:c.m})}),o&&!k&&Object(u.jsx)(s.a,{onClick:function(){O(""),document.getElementById("input").value=""},icon:c.o}),k&&Object(u.jsx)("img",{className:"search__loading",src:i.b})]})})}},104:function(e,t,n){"use strict";n(0),n(2),n(16),n(17),n(13),n(97),n(99),n(103),n(3)},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(5),c=n.n(a),s=n(10),r=n(24),l=n(0),i=n(13),o=n(2),b=n(16),j=n(94),u=n(95),d=n(17),O=n(99),h=n(26),x=n(25),g=n.n(x),m=n(3);function p(e){var t=e.show,n=e.onClose,a=e.user,c=e.loggedInUser;return t?g.a.createPortal(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"togglebar-overlay",onClick:n}),Object(m.jsxs)("div",{className:"toggle-sidebar",children:[Object(m.jsx)("div",{className:"toggle-sidebar__close",onClick:n,children:Object(m.jsx)(u.a,{icon:j.o})}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{className:"toggle-sidebar__item",children:Object(m.jsxs)(b.b,{className:"toggle-sidebar__link",to:"/user/".concat(null===a||void 0===a?void 0:a.username),"aria-label":"Dashboard",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.q})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"Profile"})]})}),c?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"toggle-sidebar__item",children:Object(m.jsxs)(b.b,{className:"toggle-sidebar__link",to:i.b,"aria-label":"Dashboard",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.d})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"Bookmarks"})]})}),Object(m.jsx)("li",{className:"toggle-sidebar__item",children:Object(m.jsxs)(b.b,{className:"toggle-sidebar__link",to:i.b,"aria-label":"Dashboard",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.j})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"List"})]})}),Object(m.jsx)("li",{className:"toggle-sidebar__item",children:Object(m.jsxs)(b.b,{className:"toggle-sidebar__link",to:i.b,"aria-label":"Dashboard",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.e})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"Settings"})]})}),Object(m.jsx)("li",{className:"toggle-sidebar__item",children:Object(m.jsxs)(b.b,{className:"toggle-sidebar__link",to:i.b,"aria-label":"Dashboard",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.h})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"Your Cards"})]})}),Object(m.jsx)("li",{className:"toggle-sidebar__item",children:Object(m.jsxs)(b.b,{className:"toggle-sidebar__link",to:i.b,"aria-label":"Dashboard",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.p})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"Add Bank"})]})}),Object(m.jsx)("li",{className:"toggle-sidebar__item",onClick:function(){Object(h.c)(),window.location=i.c},onKeyDown:function(e){"Enter"===e.key&&(Object(h.c)(),window.location=i.c)},children:Object(m.jsxs)("div",{className:"toggle-sidebar__link",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.n})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"Log Out"})]})})]}):Object(m.jsx)("li",{className:"link-list-item link-list-item--newpost",children:Object(m.jsxs)(b.b,{className:"link",to:i.c,"aria-label":"Newpost",children:[Object(m.jsx)("span",{className:"link--icon",children:Object(m.jsx)(u.a,{icon:j.n})}),Object(m.jsx)("span",{className:"link--text",children:"Log In"})]})}),"                    "]})]})]}),document.getElementById("togglebar")):null}var f=n(93),_=n(97);function v(){var e=Object(l.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],x=Object(l.useState)(),g=Object(r.a)(x,2),v=(g[0],g[1]),k=Object(l.useContext)(d.a).user,N=Object(O.a)(null===k||void 0===k?void 0:k.username).user;Object(o.g)();return Object(l.useEffect)(Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(null===N||void 0===N?void 0:N.username).then((function(e){!e.displayImg||e.displayImg.profileImg.length?v(e.displayImg.profileImg):v(_.a)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),[N]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"leftbar__toglebar",children:Object(m.jsx)(p,{show:n,user:N,loggedInUser:k,onClose:function(){return a(!1)}})}),Object(m.jsx)("div",{className:"leftbar",children:Object(m.jsxs)("ul",{className:"link-list",children:[Object(m.jsx)("li",{className:"link-list-item",children:Object(m.jsx)(b.b,{className:"u-center-text heading-logo",to:i.b,"aria-label":"LOGO",children:"Book'n'things"})}),Object(m.jsx)("li",{className:"link-list-item",children:Object(m.jsxs)(b.b,{className:"link",to:i.b,"aria-label":"Dashboard",children:[Object(m.jsx)("span",{className:"link--icon",children:Object(m.jsx)(u.a,{icon:j.g})}),Object(m.jsx)("span",{className:"link--text",children:"My Library"})]})}),k&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"link-list-item",children:Object(m.jsxs)(b.b,{className:"link",to:i.i,"aria-label":"Bookshell",children:[Object(m.jsx)("span",{className:"link--icon",children:Object(m.jsx)(u.a,{icon:j.c})}),Object(m.jsx)("span",{className:"link--text",children:"Request Your Book"})]})}),Object(m.jsx)("li",{className:"link-list-item",children:Object(m.jsxs)(b.b,{className:"link",to:i.a,"aria-label":"Bookshell",children:[Object(m.jsx)("span",{className:"link--icon",children:Object(m.jsx)(u.a,{icon:j.e})}),Object(m.jsx)("span",{className:"link--text",children:"Settings"})]})}),Object(m.jsx)("li",{className:"toggle-sidebar__item",children:Object(m.jsxs)(b.b,{className:"toggle-sidebar__link",to:i.b,"aria-label":"Dashboard",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.h})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"Your Cards"})]})}),Object(m.jsx)("li",{className:"toggle-sidebar__item",children:Object(m.jsxs)(b.b,{className:"toggle-sidebar__link",to:i.b,"aria-label":"Dashboard",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.p})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"Add Bank"})]})})]}),k?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"toggle-sidebar__item",onClick:function(){Object(h.c)(),window.location=i.c},onKeyDown:function(e){"Enter"===e.key&&(Object(h.c)(),window.location=i.c)},children:Object(m.jsxs)("div",{className:"toggle-sidebar__link",children:[Object(m.jsx)("span",{className:"toggle-sidebar__link--icon",children:Object(m.jsx)(u.a,{icon:j.n})}),Object(m.jsx)("span",{className:"toggle-sidebar__link--text",children:"Log Out"})]})}),Object(m.jsx)("li",{className:"link-list-item link-list-item--newpost",children:Object(m.jsxs)(b.b,{className:"link",to:i.f,"aria-label":"Newpost",children:[Object(m.jsx)("span",{className:"link--icon",children:Object(m.jsx)(u.a,{icon:j.l})}),Object(m.jsx)("span",{className:"link--text",children:"New Post"})]})})]}):Object(m.jsx)("li",{className:"link-list-item link-list-item--newpost",children:Object(m.jsxs)(b.b,{className:"link",to:i.c,"aria-label":"Newpost",children:[Object(m.jsx)("span",{className:"link--icon",children:Object(m.jsx)(u.a,{icon:j.n})}),Object(m.jsx)("span",{className:"link--text",children:"Log In"})]})})]})})]})}},161:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var a=n(24),c=n(0),s=n(2),r=(n(95),n(13)),l=n(99),i=n(96),o=n(114),b=(n(104),n(103)),j=n(3),u=Object(c.lazy)((function(){return n.e(15).then(n.bind(null,126))})),d=Object(c.lazy)((function(){return n.e(13).then(n.bind(null,127))})),O=Object(c.lazy)((function(){return n.e(14).then(n.bind(null,128))})),h=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,156))})),x=Object(c.lazy)((function(){return n.e(12).then(n.bind(null,157))}));function g(e){var t=e.user,n=Object(c.useState)(!1),g=Object(a.a)(n,2),m=(g[0],g[1],Object(c.useState)([])),p=Object(a.a)(m,2),f=p[0],_=p[1],v=(t&&t.id,t?t.username:null),k=Object(l.a)(v),N=k.user,w=k.setActiveUser,y=Object(s.j)(),S=y.path,I=y.url;return Object(c.useEffect)((function(){document.title="Book'N'Things"}),[]),Object(j.jsx)(i.a.Provider,{value:{user:N,setActiveUser:w,searchResult:f,setSearchResult:_},children:Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsx)("div",{className:"dashboard__leftbar",children:Object(j.jsx)(o.a,{path:S,url:I})}),Object(j.jsxs)("div",{className:"dashboard__main",children:[Object(j.jsx)("div",{className:"dashboard__searchbar",children:Object(j.jsx)(b.a,{searchResult:f,setSearchResult:_})}),Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.a,{exact:!0,from:r.b,to:r.a}),Object(j.jsx)(s.b,{path:r.a,component:x}),Object(j.jsx)(s.b,{path:r.i,component:u}),Object(j.jsx)(s.b,{path:r.f,component:h}),Object(j.jsx)(s.b,{path:r.j,component:O}),Object(j.jsx)(s.b,{path:r.d,component:d})]})]})]})})}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return x}));var a=n(5),c=n.n(a),s=n(10),r=n(11),l=n.n(r),i=n(18),o=(n(15),i.a+"/user"),b=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(o,"/username/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(null===(a=e.t0.response)||void 0===a?void 0:a.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.put("".concat(o,"/profile-img/").concat(t),{profileImg:n});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(null===(s=e.t0.response)||void 0===s?void 0:s.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("".concat(o,"/profile-img/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(null===(s=e.t0.response)||void 0===s?void 0:s.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(o,"/display-imgs/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(null===(a=e.t0.response)||void 0===a?void 0:a.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(o,"/username/following/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(null===(a=e.t0.response)||void 0===a?void 0:a.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(o,"/username/followers/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(null===(a=e.t0.response)||void 0===a?void 0:a.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return console.log("unfollwing"),e.next=4,l.a.put("".concat(o,"/unfollow/").concat(n),{followingUserId:a});case 4:e.next=9;break;case 6:return console.log("follow"),e.next=9,l.a.put("".concat(o,"/follow/").concat(n),{followingUserId:a});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},96:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)(null);t.a=c},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a="/images/avatars/default.png",c="/loading.svg"},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),c=n.n(a),s=n(14),r=n(10),l=n(24),i=n(0),o=n(93);function b(e){var t=Object(i.useState)(),n=Object(l.a)(t,2),a=n[0],b=n[1];return Object(i.useEffect)((function(){function t(){return(t=Object(r.a)(c.a.mark((function e(t){var n,a,r,l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(t);case 2:return n=e.sent,e.next=5,Object(o.c)(t);case 5:return a=e.sent,e.next=8,Object(o.d)(t);case 8:return r=e.sent,e.next=11,Object(o.b)(t);case 11:l=e.sent,i=l.displayImg,console.log(i),b(Object(s.a)(Object(s.a)({},n),{},{followers:a,following:r,displayImg:i})||{});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e&&function(e){t.apply(this,arguments)}(e)}),[e]),console.log(a),{user:a,setActiveUser:b}}}}]);
//# sourceMappingURL=10.6e08f06e.chunk.js.map