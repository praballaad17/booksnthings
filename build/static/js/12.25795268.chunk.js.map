{"version":3,"sources":["pages/login.js"],"names":["Login","location","useLocation","history","useHistory","loggedInUser","useContext","UserContext","user","useState","emailAddress","setEmailAddress","password","setPassword","error","setError","isInvalid","handleLogin","event","a","preventDefault","login","console","log","window","pathname","message","useEffect","document","title","to","ROUTES","className","src","alt","onSubmit","method","type","placeholder","onChange","target","value","disabled"],"mappings":"iPAMe,SAASA,IACtB,IAAMC,EAAWC,cACXC,EAAUC,cACFC,EAAiBC,qBAAWC,KAAlCC,KACR,EAAwCC,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KAEA,EAA0BJ,mBAAS,IAAnC,mBAAOK,EAAP,KAAcC,EAAd,KACMC,EAAyB,KAAbJ,GAAoC,KAAjBF,EAE/BO,EAAW,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DAClBD,EAAME,iBADY,kBAIVC,YAAMX,EAAcE,GAJV,OAKhBU,QAAQC,IAAItB,GACZuB,OAAOvB,SAAWA,EAAWA,EAASwB,SAAW,IANjC,gDAQhBd,EAAgB,IAChBE,EAAY,IACZE,EAAS,KAAMW,SAVC,yDAAH,sDAmBjB,OALAC,qBAAU,WACRC,SAASC,MAAQ,kBAChB,IACHP,QAAQC,IAAItB,EAAUE,GAElBE,EAAqB,cAAC,IAAD,CAAUyB,GAAIC,MAGrC,sBAAKC,UAAU,QAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAKC,IAAI,kCAAkCC,IAAI,gCAEjD,sBAAKF,UAAU,aAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,oBAAIA,UAAU,mBAAd,SACE,qBAAKC,IAAI,mBAAmBC,IAAI,YAAYF,UAAU,uBAGvDlB,GAAS,mBAAGkB,UAAU,oBAAb,SAAkClB,IAE5C,uBAAMkB,UAAU,cAAcG,SAAUlB,EAAamB,OAAO,OAA5D,UACE,uBACE,aAAW,2BACXC,KAAK,OACLC,YAAY,gBACZN,UAAU,qBACVO,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgB7B,EAAgB6B,EAAOC,QACjDA,MAAO/B,IAET,uBACE,aAAW,sBACX2B,KAAK,WACLC,YAAY,WACZN,UAAU,qBACVO,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgB3B,EAAY2B,EAAOC,QAC7CA,MAAO7B,IAET,wBACE8B,SAAU1B,EACVqB,KAAK,SACLL,UAAS,qCACThB,GAAa,gBAJf,yBAWJ,qBAAKgB,UAAU,mBAAf,SACE,oBAAGA,UAAU,4BAAb,uCAEE,cAAC,IAAD,CAAMF,GAAIC,IAAgBC,UAAU,cAApC","file":"static/js/12.25795268.chunk.js","sourcesContent":["import { useState, useContext, useEffect } from 'react';\nimport { Link, useHistory, Redirect, useLocation } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport { login } from '../services/authenticationServices'\nimport UserContext from '../context/user';\n\nexport default function Login() {\n  const location = useLocation()\n  const history = useHistory();\n  const { user: loggedInUser } = useContext(UserContext);\n  const [emailAddress, setEmailAddress] = useState('');\n  const [password, setPassword] = useState('');\n\n  const [error, setError] = useState('');\n  const isInvalid = password === '' || emailAddress === '';\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n\n    try {\n      await login(emailAddress, password);\n      console.log(location);\n      window.location = location ? location.pathname : \"/\"\n    } catch (error) {\n      setEmailAddress('');\n      setPassword('');\n      setError(error.message);\n    }\n  };\n\n  useEffect(() => {\n    document.title = 'Login - Touch';\n  }, []);\n  console.log(location, history);\n\n  if (loggedInUser) return <Redirect to={ROUTES.DASHBOARD} />\n\n  return (\n    <div className=\"login\">\n      <div className=\"login__hero\">\n        <img src=\"/images/iphone-with-profile.jpg\" alt=\"iPhone with Instagram app\" />\n      </div>\n      <div className=\"login__box\">\n        <div className=\"login__box--sub\">\n          <h1 className=\"login__box--head\">\n            <img src=\"/images/logo.png\" alt=\"Instagram\" className=\"mt-2 w-6/12 mb-4\" />\n          </h1>\n\n          {error && <p className=\"login__box--error\">{error}</p>}\n\n          <form className=\"login__form\" onSubmit={handleLogin} method=\"POST\">\n            <input\n              aria-label=\"Enter your email address\"\n              type=\"text\"\n              placeholder=\"Email address\"\n              className=\"login__form--input\"\n              onChange={({ target }) => setEmailAddress(target.value)}\n              value={emailAddress}\n            />\n            <input\n              aria-label=\"Enter your password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              className=\"login__form--input\"\n              onChange={({ target }) => setPassword(target.value)}\n              value={password}\n            />\n            <button\n              disabled={isInvalid}\n              type=\"submit\"\n              className={`btn btn-login\n            ${isInvalid && 'u-opacity-50'}`}\n            >\n              Login\n            </button>\n          </form>\n        </div>\n\n        <div className=\"login__box--foot\">\n          <p className=\"login__box--foot--content\">\n            Don't have an account?{` `}\n            <Link to={ROUTES.SIGN_UP} className=\"u-text-blue\">\n              Sign up\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}