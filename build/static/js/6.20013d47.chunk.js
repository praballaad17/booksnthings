(this.webpackJsonpbooknthings=this.webpackJsonpbooknthings||[]).push([[6],{101:function(e,t){},104:function(e,t){},105:function(e,t){},106:function(e,t){},107:function(e,t){},108:function(e,t){},150:function(e,t,r){},160:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return O}));var n=r(5),a=r.n(n),c=r(10),s=r(24),u=r(0),i=r(2),o=r(26),l=r.n(o),p=r(94),d=r(96),b=r(97),j=r(95),h=r(13),f=r(93),v=(r(150),r(3));function x(e){var t=e.label,r=e.handlePaid;return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"container",children:[t," ",Object(v.jsxs)("div",{className:"toggle-switch",children:[Object(v.jsx)("input",{type:"checkbox",className:"checkbox",name:t,id:t,onChange:r}),Object(v.jsxs)("label",{className:"label",htmlFor:t,children:[Object(v.jsx)("span",{className:"inner"}),Object(v.jsx)("span",{className:"switch"})]})]})]})})}function O(){var e=Object(u.useContext)(j.a).user,t=Object(u.useState)(),r=Object(s.a)(t,2),n=(r[0],r[1],Object(u.useState)("")),o=Object(s.a)(n,2),O=o[0],m=o[1],g=Object(u.useState)([]),w=Object(s.a)(g,2),y=w[0],k=w[1],N=Object(u.useState)(!1),_=Object(s.a)(N,2),S=_[0],P=_[1],C=Object(u.useState)(""),U=Object(s.a)(C,2),I=U[0],F=U[1],R=Object(u.useState)(""),E=Object(s.a)(R,2),L=E[0],D=E[1],J=Object(u.useState)(),z=Object(s.a)(J,2),A=z[0],B=z[1],M=Object(u.useState)(),T=Object(s.a)(M,2),V=(T[0],T[1],Object(u.useState)()),W=Object(s.a)(V,2),q=W[0],G=W[1],H=Object(i.g)(),K={onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100)+"%";console.log(t),G(t)}},Q=function(){var t=Object(c.a)(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.h)(y,L,I,e.username,S,A,K);case 3:r=t.sent,r.data,H.push(h.a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),X={width:q};return console.log(q),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"newpost__head",children:[Object(v.jsx)("h3",{className:"heading-tertiary",children:"New Post"}),Object(v.jsxs)("div",{children:[Object(v.jsx)(x,{label:"Paid",handlePaid:function(){P(!S)}}),Object(v.jsx)("button",{className:"btn btn--grey",onClick:Q,children:"Post"})]})]}),Object(v.jsxs)("div",{className:"newpost__main",children:[Object(v.jsx)("input",{className:"newpost__input-text",type:"text",placeholder:"Title",onChange:function(e){D(e.target.value)}}),Object(v.jsx)("textarea",{className:"newpost__input-text",placeholder:"Description...",onChange:function(e){F(e.target.value)}}),Object(v.jsxs)("label",{className:"newpost__media",children:[Object(v.jsx)(d.a,{icon:p.f}),Object(v.jsx)("input",{type:"file",style:{opacity:0,position:"absolute",left:"-99999px"},onChange:function(e){if(e.target.files.length){m(URL.createObjectURL(e.target.files[0]));var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){var e=t.result;k(e)}}}})]}),Object(v.jsx)("input",{type:"text",placeholder:"Price",onChange:function(e){return B(e.target.value)}})]}),Object(v.jsx)("div",{style:{height:"750px"},children:O?Object(v.jsx)("div",{style:{border:"1px solid rgba(0, 0, 0, 0.3)",height:"100%"},children:Object(v.jsx)(b.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@2.6.347/build/pdf.worker.min.js",children:Object(v.jsx)(b.Viewer,{fileUrl:O})})}):Object(v.jsx)("div",{style:{alignItems:"center",border:"2px dashed rgba(0, 0, 0, .3)",display:"flex",fontSize:"2rem",height:"100%",justifyContent:"center",width:"100%"},children:"Preview area"})}),q&&l.a.createPortal(Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"modal-layout"}),Object(v.jsxs)("div",{className:"modal-box",children:[Object(v.jsx)("div",{className:"modal-box__heading heading-black",children:q}),Object(v.jsx)("div",{className:"progress-bar",children:Object(v.jsx)("div",{className:"progress-bar__container",children:Object(v.jsx)("div",{style:X,className:"progress-bar-stick",children:Object(v.jsx)("span",{className:"progress-bar__text",children:"Uploaded Successfully!"})})})})]})]}),document.getElementById("modal"))]})}},93:function(e,t,r){"use strict";r.d(t,"h",(function(){return l})),r.d(t,"f",(function(){return p})),r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return b})),r.d(t,"g",(function(){return j})),r.d(t,"a",(function(){return h})),r.d(t,"e",(function(){return f})),r.d(t,"c",(function(){return v}));var n=r(5),a=r.n(n),c=r(10),s=r(11),u=r.n(s),i=r(17),o=i.a+"/post",l=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c,s,i,l){var p,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("".concat(o,"/add-material/").concat(c),{files:t,title:r,caption:n,paid:s,price:i},l);case 3:return p=e.sent,d=p.data,e.abrupt("return",{data:d});case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,n,a,c,s,u){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(o,"/user-material/").concat(t),{params:{page:n,limit:c,logginUserId:r}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(o,"/title/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("".concat(o,"/buy-material/").concat(t),{username:n,author:c,userId:r});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(o,"/get-purc-material/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("".concat(o,"/add-review/").concat(n),{message:t,userId:r});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(o,"/get-review/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("".concat(o,"/check-purchased"),{userId:t,materialId:r});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=6.20013d47.chunk.js.map